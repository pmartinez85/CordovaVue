webpackJsonp([2,0],{0:function(t,e,o){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}var r=o(45),s=a(r),i=o(109),c=a(i),d=o(117),l=a(d);o(105);var u=o(118),f=a(u),m=o(47),v=a(m),_=o(108),p=a(_),h=o(111),g=a(h),b=o(112),k=a(b),y=o(46),w=n(y);w.axios=v.default,s.default.prototype.$http=v.default,window.querystring=p.default;var C=[{path:"/todos",component:g.default},{path:"/tokens",component:k.default}],T=new f.default({mode:"history",routes:C});s.default.use(f.default),s.default.use(l.default),s.default.material.registerTheme("custom",{primary:"grenn",accent:"blue",warn:"blue",background:"grey"}),new s.default({el:"#app",template:"<App/>",components:{App:c.default},router:T})},65:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(110),r=n(a);e.default={name:"app",components:{Hello:r.default},methods:{toggleLeftSidenav:function(){this.$refs.leftSidenav.toggle()},open:function(t){console.log("Opened: "+t)},close:function(t){console.log("Closed: "+t)}}}},66:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"hello",data:function(){return{msg:"Welcome to Your Vue.js App"}}}},67:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(71),r=n(a),s="todosvue_token",i=1,c="http://localhost:8090/todos",d="http://todosbackend.pedromartinez.2dam.acacha.org:8080/api/v1/task",l="http://todos.dev:8080/oauth/authorize?";e.default={data:function(){return{todos:[],authorized:!1,token:null,connecting:!1,total:0,perPage:0,page:0}},created:function(){if(document.location.hash)var t=this.extractToken(document.location.hash);if(t&&this.saveToken(t),null==this.token&&(this.token=this.fetchToken()),this.token){this.authorized=!0,this.connecting=!0;var e=this;setTimeout(function(){e.fetchData(),e.connecting=!1},500)}else this.authorized=!1},methods:{fetchData:function(){return this.fetchPage(1)},fetchPage:function(t){var e=this;this.$http.defaults.headers.common.Authorization="Bearer "+this.token,this.$http.get(d+"?page="+t).then(function(t){e.todos=t.data.data,console.log(t.data),console.log((0,r.default)(t.data.total)),e.total=t.data.total,e.perPage=t.data.per_page,e.page=t.data.current_page},function(t){console.log("ERROR DATA: "+t.data),e.showConnectionError(),e.authorized=!1})},extractToken:function(t){return t.match(/#(?:access_token)=([\S\s]*?)&/)[1]},showConnectionError:function(){this.$refs.connectionError.open()},initLogout:function(){this.openDialog("sureToLogout")},logout:function(){window.localStorage.removeItem(s),this.authorized=!1},openDialog:function(t){this.$refs[t].open()},onCloseSureToLogout:function(t){"ok"===t&&this.logout()},connect:function(){t={client_id:i,redirect_uri:c,response_type:"token",scope:""};var t=window.querystring.stringify(t);window.location.replace(l+t)},fetchToken:function(){return window.localStorage.getItem(s)},saveToken:function(t){window.localStorage.setItem(s,t)},onPagination:function(){console.log("pagination todo!")}}}},68:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{msg:"Tokens vue"}}}},101:function(t,e){},102:function(t,e){},103:function(t,e){},104:function(t,e){},105:function(t,e){},109:function(t,e,o){var n,a;o(102),n=o(65);var r=o(114);a=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(a=n=n.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,t.exports=n},110:function(t,e,o){var n,a;o(101),n=o(66);var r=o(113);a=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(a=n=n.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,a._scopeId="data-v-21c0678a",t.exports=n},111:function(t,e,o){var n,a;o(104),n=o(67);var r=o(116);a=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(a=n=n.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,t.exports=n},112:function(t,e,o){var n,a;o(103),n=o(68);var r=o(115);a=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(a=n=n.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,t.exports=n},113:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hello"},[o("h1",[t._v(t._s(t.msg))]),t._v(" "),o("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),o("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",[o("li",[o("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("Core Docs")])]),t._v(" "),o("li",[o("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("Forum")])]),t._v(" "),o("li",[o("a",{attrs:{href:"https://gitter.im/vuejs/vue",target:"_blank"}},[t._v("Gitter Chat")])]),t._v(" "),o("li",[o("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("Twitter")])]),t._v(" "),o("br"),t._v(" "),o("li",[o("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("Docs for This Template")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",[o("li",[o("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[t._v("vue-router")])]),t._v(" "),o("li",[o("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[t._v("vuex")])]),t._v(" "),o("li",[o("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[t._v("vue-loader")])]),t._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[t._v("awesome-vue")])])])}]}},114:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"phone-viewport"},[o("md-toolbar",[o("md-button",{staticClass:"md-icon-button",on:{click:t.toggleLeftSidenav}},[o("md-icon",[t._v("menu")])],1),t._v(" "),o("h2",{staticClass:"md-title"},[t._v("Todos")])],1),t._v(" "),o("md-sidenav",{ref:"leftSidenav",staticClass:"md-left",on:{open:function(e){t.open("Left")},close:function(e){t.close("Left")}}},[o("md-toolbar",{staticClass:"md-large"},[o("div",{staticClass:"md-toolbar-container"},[o("h3",{staticClass:"md-title"},[t._v("Todos")])])]),t._v(" "),o("md-list",[o("md-list-item",{on:{click:t.toggleLeftSidenav}},[o("md-icon",[t._v("move_to_inbox")]),t._v(" "),o("router-link",{attrs:{exact:"",to:"/todos"}},[t._v("Todos")])],1),t._v(" "),o("md-list-item",{on:{click:t.toggleLeftSidenav}},[o("md-icon",[t._v("send")]),t._v(" "),o("router-link",{attrs:{exact:"",to:"/tokens"}},[t._v("Tokens")])],1),t._v(" "),o("md-list-item",{on:{click:t.toggleLeftSidenav}},[o("md-avatar",[o("img",{attrs:{src:"https://placeimg.com/40/40/people/5",alt:"People"}})]),t._v(" "),o("span",[t._v("Contact example")]),t._v(" "),o("md-button",{staticClass:"md-icon-button md-list-action"},[o("md-icon",{staticClass:"md-primary"},[t._v("chat_bubble")])],1)],1)],1)],1),t._v(" "),o("router-view")],1)},staticRenderFns:[]}},115:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("h1",[o("div",[t._v("Msg: "+t._s(t.msg))])])},staticRenderFns:[]}},116:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.authorized,expression:"!authorized"}]},[o("md-button",{staticClass:"md-raised md-primary",on:{click:t.connect}},[t._v("Connect")])],1),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.authorized,expression:"authorized"}]},[o("md-button",{staticClass:"md-raised md-primary",on:{click:t.initLogout}},[t._v("Logout")])],1),t._v(" "),o("md-table-card",[o("md-toolbar",[o("h1",{staticClass:"md-title"},[t._v("Todos")]),t._v(" "),o("md-button",{staticClass:"md-icon-button"},[o("md-icon",[t._v("filter_list")])],1),t._v(" "),o("md-button",{staticClass:"md-icon-button"},[o("md-icon",[t._v("search")])],1)],1),t._v(" "),o("md-table",{attrs:{"md-sort":"name","md-sort-type":"desc"}},[o("md-table-header",[o("md-table-row",[o("md-table-head",{attrs:{"md-sort-by":"name"}},[t._v("Name")]),t._v(" "),o("md-table-head",{attrs:{"md-sort-by":"calories","md-numeric":"","md-tooltip":"The total amount of food energy and the given serving size"}},[t._v("Priority")]),t._v(" "),o("md-table-head",{attrs:{"md-sort-by":"fat","md-numeric":""}},[t._v("Done")])],1)],1),t._v(" "),o("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.connecting,expression:"connecting"}],staticClass:"md-accent",attrs:{"md-size":150,"md-indeterminate":""}}),t._v(" "),o("md-table-body",t._l(t.todos,function(e,n){return o("md-table-row",{attrs:{"md-auto-select":"","md-selection":""}},[o("md-table-cell",[t._v(t._s(n+1)+" "+t._s(e.name))]),t._v(" "),o("md-table-cell",[t._v(t._s(e.priority))]),t._v(" "),o("md-table-cell",[t._v(t._s(e.done))])],1)}))],1),t._v(" "),o("md-table-pagination",{attrs:{"md-size":t.perPage,"md-total":t.total,"md-page":t.page,"md-label":"Rows","md-separator":"of","md-page-options":[5,15,25,50]},on:{pagination:t.onPagination}})],1),t._v(" "),o("md-snackbar",{ref:"connectionError",attrs:{"md-position":"bottom center","md-duration":"4000"}},[o("span",[t._v("Connection error. Please reconnect using connect button!.")])]),t._v(" "),o("md-dialog-confirm",{ref:"sureToLogout",attrs:{"md-title":"Logout","md-content":"Are you sure you want to logout?","md-ok-text":"Ok","md-cancel-text":"Cancel"},on:{close:t.onCloseSureToLogout}})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=app.faf331a6a258956d2470.js.map